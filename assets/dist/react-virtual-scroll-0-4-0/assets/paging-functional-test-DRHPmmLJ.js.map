{"version":3,"file":"paging-functional-test-DRHPmmLJ.js","sources":["../../samples/paging-functional-test/index.tsx"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { VirtualList, VirtualListProxy, useFixedSizeItemOffsetMapping, ScrollState } from '@candidstartup/react-virtual-scroll';\n\nimport '../styles.css';\n\nconst Row = ({ index, style } : {index: number, style: React.CSSProperties }) => (\n  <div className={ index == 0 ? \"header\" : \"cell\" } style={style}>\n    { (index == 0) ? \"Header\" : \"Item \" + index }\n  </div>\n);\n\ninterface OutputFieldProps {\n  label: string,\n  type: 'text' | 'number'\n}\n\nconst OutputField = React.forwardRef<HTMLInputElement, OutputFieldProps >((props, ref)=> {\n  const { label, ...otherProps } = props;\n  const prompt = label + \": \";\n  return (\n    <div>\n    <label>\n      {prompt}\n      <input {...otherProps} ref={ref} readOnly={true} disabled={true} />\n    </label>\n    </div>\n  );\n});\n\nfunction App() {\n  var mapping = useFixedSizeItemOffsetMapping(30);\n  const list = React.createRef<VirtualListProxy>();\n  const offset = React.createRef<HTMLInputElement>();\n  const item = React.createRef<HTMLInputElement>();\n  const scrollOffset = React.createRef<HTMLInputElement>();\n  const renderOffset = React.createRef<HTMLInputElement>();\n  const page = React.createRef<HTMLInputElement>();\n  const scrollDirection = React.createRef<HTMLInputElement>();\n\n  function onScroll(offsetValue: number, newScrollState: ScrollState) {\n    if (offset.current)\n      offset.current.value = offsetValue.toString();\n    if (item.current) {\n      const [itemValue] = mapping.offsetToItem(offsetValue);\n      item.current.value = itemValue.toString();\n    }\n    if (scrollOffset.current)\n      scrollOffset.current.value = newScrollState.scrollOffset.toString();\n    if (renderOffset.current)\n      renderOffset.current.value = newScrollState.renderOffset.toString();\n    if (page.current)\n      page.current.value = newScrollState.page.toString();\n    if (scrollDirection.current)\n      scrollDirection.current.value = newScrollState.scrollDirection;\n  }\n\n  return (\n    <div>\n      <label>\n        Item: \n        <input\n          type={\"number\"}\n          height={200}\n          onChange={(event) => {\n            const value = parseInt(event.target.value);\n            list.current?.scrollToItem(value)\n          }}\n        />\n      </label>\n\n      <VirtualList\n        className={\"outerContainer\"}\n        ref={list}\n        height={240}\n        itemCount={100}\n        itemOffsetMapping={mapping}\n        maxCssSize={1500}\n        minNumPages={5}\n        onScroll={onScroll}\n        width={600}>\n        {Row}\n      </VirtualList>\n\n      <OutputField ref={offset} label={\"offset\"} type={\"number\"}></OutputField>\n      <OutputField ref={item} label={\"Item\"} type={\"number\"}></OutputField>\n      <OutputField ref={scrollOffset} label={\"ScrollOffset\"} type={\"number\"}></OutputField>\n      <OutputField ref={renderOffset} label={\"RenderOffset\"} type={\"number\"}></OutputField>\n      <OutputField ref={page} label={\"Page\"} type={\"number\"}></OutputField>\n      <OutputField ref={scrollDirection} label={\"ScrollDirection\"} type={\"text\"}></OutputField>\n    </div>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"names":["Row","index","style","OutputField","React","props","ref","label","otherProps","prompt","jsx","jsxs","App","mapping","useFixedSizeItemOffsetMapping","list","offset","item","scrollOffset","renderOffset","page","scrollDirection","onScroll","offsetValue","newScrollState","itemValue","event","value","_a","VirtualList","ReactDOM"],"mappings":"2JAMA,MAAMA,EAAM,CAAC,CAAE,MAAAC,EAAO,MAAAC,CAAM,UACzB,MAAI,CAAA,UAAYD,GAAS,EAAI,SAAW,OAAS,MAAAC,EAC7C,YAAS,EAAK,SAAW,QAAUD,CACxC,CAAA,EAQIE,EAAcC,EAAM,WAAgD,CAACC,EAAOC,IAAO,CACvF,KAAM,CAAE,MAAAC,EAAO,GAAGC,CAAA,EAAeH,EAC3BI,EAASF,EAAQ,KAErB,OAAAG,EAAAA,IAAC,MACD,CAAA,SAAAC,EAAAA,KAAC,QACE,CAAA,SAAA,CAAAF,EACDC,MAAC,SAAO,GAAGF,EAAY,IAAAF,EAAU,SAAU,GAAM,SAAU,GAAM,CAAA,CACnE,CAAA,CACA,CAAA,CAEJ,CAAC,EAED,SAASM,GAAM,CACT,IAAAC,EAAUC,EAA8B,EAAE,EACxC,MAAAC,EAAOX,EAAM,YACbY,EAASZ,EAAM,YACfa,EAAOb,EAAM,YACbc,EAAed,EAAM,YACrBe,EAAef,EAAM,YACrBgB,EAAOhB,EAAM,YACbiB,EAAkBjB,EAAM,YAErB,SAAAkB,EAASC,EAAqBC,EAA6B,CAGlE,GAFIR,EAAO,UACFA,EAAA,QAAQ,MAAQO,EAAY,SAAS,GAC1CN,EAAK,QAAS,CAChB,KAAM,CAACQ,CAAS,EAAIZ,EAAQ,aAAaU,CAAW,EAC/CN,EAAA,QAAQ,MAAQQ,EAAU,SAAS,CAC1C,CACIP,EAAa,UACfA,EAAa,QAAQ,MAAQM,EAAe,aAAa,SAAS,GAChEL,EAAa,UACfA,EAAa,QAAQ,MAAQK,EAAe,aAAa,SAAS,GAChEJ,EAAK,UACPA,EAAK,QAAQ,MAAQI,EAAe,KAAK,SAAS,GAChDH,EAAgB,UACFA,EAAA,QAAQ,MAAQG,EAAe,gBACnD,CAEA,cACG,MACC,CAAA,SAAA,CAAAb,OAAC,QAAM,CAAA,SAAA,CAAA,QAELD,EAAA,IAAC,QAAA,CACC,KAAM,SACN,OAAQ,IACR,SAAWgB,GAAU,OACnB,MAAMC,EAAQ,SAASD,EAAM,OAAO,KAAK,GACpCE,EAAAb,EAAA,UAAA,MAAAa,EAAS,aAAaD,EAC7B,CAAA,CACF,CAAA,EACF,EAEAjB,EAAA,IAACmB,EAAA,CACC,UAAW,iBACX,IAAKd,EACL,OAAQ,IACR,UAAW,IACX,kBAAmBF,EACnB,WAAY,KACZ,YAAa,EACb,SAAAS,EACA,MAAO,IACN,SAAAtB,CAAA,CACH,QAECG,EAAY,CAAA,IAAKa,EAAQ,MAAO,SAAU,KAAM,SAAU,QAC1Db,EAAY,CAAA,IAAKc,EAAM,MAAO,OAAQ,KAAM,SAAU,QACtDd,EAAY,CAAA,IAAKe,EAAc,MAAO,eAAgB,KAAM,SAAU,QACtEf,EAAY,CAAA,IAAKgB,EAAc,MAAO,eAAgB,KAAM,SAAU,QACtEhB,EAAY,CAAA,IAAKiB,EAAM,MAAO,OAAQ,KAAM,SAAU,QACtDjB,EAAY,CAAA,IAAKkB,EAAiB,MAAO,kBAAmB,KAAM,OAAQ,CAC7E,CAAA,CAAA,CAEJ,CAEAS,EAAS,OAAQpB,EAAA,IAAAE,EAAA,CAAA,CAAI,EAAI,SAAS,eAAe,MAAM,CAAC"}