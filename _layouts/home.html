---
layout: default
---

<div>

  {{ content }}

  <h2>Latest Posts</h2>

  <ul class="post-list">
    {% for post in site.posts limit:3 %}
      <li>

        {% assign date_format = site.cayman-blog.date_format | default: "%b %-d, %Y" %}
        <span class="candid-post-meta">{{ post.date | date: date_format }}</span>
      
        {% for tag in post.tags %}
        {% assign topic-page = site.topics | where: "topic", tag | first %}
        {% if topic-page %}
          <a class="candid-topic-tag" href="{{ topic-page.url | absolute_url }}" title="{{ topic-page.title }}">{{ topic-page.title | escape }}</a>
        {% endif %}
        {% endfor %}

        <h2>
          <a class="post-link" href="{{ post.url | absolute_url }}" title="{{ post.title }}">{{ post.title | escape }}</a>
        </h2>

        {{ post.excerpt | markdownify | truncatewords: 30 }}

      </li>
    {% endfor %}

    {% assign blog_page = site.pages | where: "ref", "blog" | first %}
      <li>
        <span class="post-meta">Older Posts</span>
        <h2>
          <a class="post-link" href="{{ blog_page.url | absolute_url }}">More ...</a>
        </h2>
      </li>
  </ul>

<h2>Hot Topics</h2>

{% capture temptags %}
  {% for tag in site.tags %}
    {{ tag[1].size | plus: 1000 }}#{{ tag[0] }}#{{ tag[1].size }}
  {% endfor %}
{% endcapture %}
{% assign sortedtemptags = temptags | split:' ' | sort | reverse %}

<div class="candid-topic-cloud">
{% for temptag in sortedtemptags %}
  {% assign tagitems = temptag | split: '#' %}
  {% capture tagname %}{{ tagitems[1] }}{% endcapture %}
  {% capture tagcount %}{{ tagitems[0] | minus: 1000 }}{% endcapture %}
  {% assign topic-page = site.topics | where: "topic", tagname | first %}
  {% if topic-page %}
    {% capture topic-title %}{{ topic-page.title }} ({{ tagcount }}){% endcapture %}
    <a class="candid-topic-tag" href="{{ topic-page.url | absolute_url }}" title="{{ topic-title }} ({{ tagcount }})">{{ topic-title | escape }}</a>
  {% endif %}
{% endfor %}
</div>

</div>
